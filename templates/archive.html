{% set current_tab = 'archive' %}
{% extends 'tab.html' %}

{% block css %}
  <link rel='stylesheet' href='{{ url_for_static("css/archive.css") }}'/>
{% endblock %}

{% block js %}
  <script src='{{ url_for_static("js/archive.js") }}'></script>
{% endblock %}

{% block main %}
  <p class='info-box'>
    Архива је у изради. Претходни бројеви ће бити постепено додавани.
  </p>

  {% for year, months in g.issues %}
    <div class='{% if loop.first %}
                  displayed
                {% endif %}
                year flex columns align-center unselectable'>
      <span class='rolldown-button'>{{ year }}</span>
      <div class='decor blocky-green-decor'></div>
      <div class='months rolldown-container flex columns align-center'>
        {% set _ = {'first_month': true} %}
        {% for month, issues in months %}
          <div class='{% if _.first_month %}
                        displayed
                        {% if _.update({"first_month": false}) %}{% endif %}
                      {% endif %}
                      month flex columns align-center'>
            <span class='rolldown-button'>{{ month }}</span>
            <div class='decor blocky-green-decor'></div>
            <div class='issues rolldown-container flex rows align-center'>
              {% for issue in issues %}
                <div class='issue'>
                  <a class='flex columns align-center' href='{{ issue.url }}'>
                    <span class='flex columns align-center'>{{ issue.number }}</span>
                    <img src='{{ issue.cover_url }}'>
                  </a>
                </div>
              {% endfor %}
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endfor %}
{% endblock %}
